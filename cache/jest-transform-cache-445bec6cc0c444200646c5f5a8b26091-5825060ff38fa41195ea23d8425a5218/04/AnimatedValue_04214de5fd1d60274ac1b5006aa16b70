b223e295aa75938a7e2f2cb8ba5501d5
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _get2 = _interopRequireDefault(require("@babel/runtime/helpers/get"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
var AnimatedInterpolation = require("./AnimatedInterpolation");
var AnimatedWithChildren = require("./AnimatedWithChildren");
var InteractionManager = require("../../Interaction/InteractionManager");
var NativeAnimatedHelper = require("../NativeAnimatedHelper");
var NativeAnimatedAPI = NativeAnimatedHelper.API;
function _flush(rootNode) {
  var animatedStyles = new Set();
  function findAnimatedStyles(node) {
    if (typeof node.update === 'function') {
      animatedStyles.add(node);
    } else {
      node.__getChildren().forEach(findAnimatedStyles);
    }
  }
  findAnimatedStyles(rootNode);
  animatedStyles.forEach(function (animatedStyle) {
    return animatedStyle.update();
  });
}
function _executeAsAnimatedBatch(id, operation) {
  NativeAnimatedAPI.setWaitingForIdentifier(id);
  operation();
  NativeAnimatedAPI.unsetWaitingForIdentifier(id);
}
var AnimatedValue = function (_AnimatedWithChildren) {
  (0, _inherits2["default"])(AnimatedValue, _AnimatedWithChildren);
  var _super = _createSuper(AnimatedValue);
  function AnimatedValue(value, config) {
    var _this;
    (0, _classCallCheck2["default"])(this, AnimatedValue);
    _this = _super.call(this);
    _this._value = void 0;
    _this._startingValue = void 0;
    _this._offset = void 0;
    _this._animation = void 0;
    _this._tracking = void 0;
    if (typeof value !== 'number') {
      throw new Error('AnimatedValue: Attempting to set value to undefined');
    }
    _this._startingValue = _this._value = value;
    _this._offset = 0;
    _this._animation = null;
    if (config && config.useNativeDriver) {
      _this.__makeNative();
    }
    return _this;
  }
  (0, _createClass2["default"])(AnimatedValue, [{
    key: "__detach",
    value: function __detach() {
      var _this2 = this;
      if (this.__isNative) {
        NativeAnimatedAPI.getValue(this.__getNativeTag(), function (value) {
          _this2._value = value - _this2._offset;
        });
      }
      this.stopAnimation();
      (0, _get2["default"])((0, _getPrototypeOf2["default"])(AnimatedValue.prototype), "__detach", this).call(this);
    }
  }, {
    key: "__getValue",
    value: function __getValue() {
      return this._value + this._offset;
    }
  }, {
    key: "setValue",
    value: function setValue(value) {
      var _this3 = this;
      if (this._animation) {
        this._animation.stop();
        this._animation = null;
      }
      this._updateValue(value, !this.__isNative);
      if (this.__isNative) {
        _executeAsAnimatedBatch(this.__getNativeTag().toString(), function () {
          return NativeAnimatedAPI.setAnimatedNodeValue(_this3.__getNativeTag(), value);
        });
      }
    }
  }, {
    key: "setOffset",
    value: function setOffset(offset) {
      this._offset = offset;
      if (this.__isNative) {
        NativeAnimatedAPI.setAnimatedNodeOffset(this.__getNativeTag(), offset);
      }
    }
  }, {
    key: "flattenOffset",
    value: function flattenOffset() {
      this._value += this._offset;
      this._offset = 0;
      if (this.__isNative) {
        NativeAnimatedAPI.flattenAnimatedNodeOffset(this.__getNativeTag());
      }
    }
  }, {
    key: "extractOffset",
    value: function extractOffset() {
      this._offset += this._value;
      this._value = 0;
      if (this.__isNative) {
        NativeAnimatedAPI.extractAnimatedNodeOffset(this.__getNativeTag());
      }
    }
  }, {
    key: "stopAnimation",
    value: function stopAnimation(callback) {
      this.stopTracking();
      this._animation && this._animation.stop();
      this._animation = null;
      if (callback) {
        if (this.__isNative) {
          NativeAnimatedAPI.getValue(this.__getNativeTag(), callback);
        } else {
          callback(this.__getValue());
        }
      }
    }
  }, {
    key: "resetAnimation",
    value: function resetAnimation(callback) {
      this.stopAnimation(callback);
      this._value = this._startingValue;
      if (this.__isNative) {
        NativeAnimatedAPI.setAnimatedNodeValue(this.__getNativeTag(), this._startingValue);
      }
    }
  }, {
    key: "__onAnimatedValueUpdateReceived",
    value: function __onAnimatedValueUpdateReceived(value) {
      this._updateValue(value, false);
    }
  }, {
    key: "interpolate",
    value: function interpolate(config) {
      return new AnimatedInterpolation(this, config);
    }
  }, {
    key: "animate",
    value: function animate(animation, callback) {
      var _this4 = this;
      var handle = null;
      if (animation.__isInteraction) {
        handle = InteractionManager.createInteractionHandle();
      }
      var previousAnimation = this._animation;
      this._animation && this._animation.stop();
      this._animation = animation;
      animation.start(this._value, function (value) {
        _this4._updateValue(value, true);
      }, function (result) {
        _this4._animation = null;
        if (handle !== null) {
          InteractionManager.clearInteractionHandle(handle);
        }
        callback && callback(result);
      }, previousAnimation, this);
    }
  }, {
    key: "stopTracking",
    value: function stopTracking() {
      this._tracking && this._tracking.__detach();
      this._tracking = null;
    }
  }, {
    key: "track",
    value: function track(tracking) {
      this.stopTracking();
      this._tracking = tracking;
      this._tracking && this._tracking.update();
    }
  }, {
    key: "_updateValue",
    value: function _updateValue(value, flush) {
      if (value === undefined) {
        throw new Error('AnimatedValue: Attempting to set value to undefined');
      }
      this._value = value;
      if (flush) {
        _flush(this);
      }
      (0, _get2["default"])((0, _getPrototypeOf2["default"])(AnimatedValue.prototype), "__callListeners", this).call(this, this.__getValue());
    }
  }, {
    key: "__getNativeConfig",
    value: function __getNativeConfig() {
      return {
        type: 'value',
        value: this._value,
        offset: this._offset
      };
    }
  }]);
  return AnimatedValue;
}(AnimatedWithChildren);
module.exports = AnimatedValue;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJBbmltYXRlZEludGVycG9sYXRpb24iLCJyZXF1aXJlIiwiQW5pbWF0ZWRXaXRoQ2hpbGRyZW4iLCJJbnRlcmFjdGlvbk1hbmFnZXIiLCJOYXRpdmVBbmltYXRlZEhlbHBlciIsIk5hdGl2ZUFuaW1hdGVkQVBJIiwiQVBJIiwiX2ZsdXNoIiwicm9vdE5vZGUiLCJhbmltYXRlZFN0eWxlcyIsIlNldCIsImZpbmRBbmltYXRlZFN0eWxlcyIsIm5vZGUiLCJ1cGRhdGUiLCJhZGQiLCJfX2dldENoaWxkcmVuIiwiZm9yRWFjaCIsImFuaW1hdGVkU3R5bGUiLCJfZXhlY3V0ZUFzQW5pbWF0ZWRCYXRjaCIsImlkIiwib3BlcmF0aW9uIiwic2V0V2FpdGluZ0ZvcklkZW50aWZpZXIiLCJ1bnNldFdhaXRpbmdGb3JJZGVudGlmaWVyIiwiQW5pbWF0ZWRWYWx1ZSIsInZhbHVlIiwiY29uZmlnIiwiX3ZhbHVlIiwiX3N0YXJ0aW5nVmFsdWUiLCJfb2Zmc2V0IiwiX2FuaW1hdGlvbiIsIl90cmFja2luZyIsIkVycm9yIiwidXNlTmF0aXZlRHJpdmVyIiwiX19tYWtlTmF0aXZlIiwiX19pc05hdGl2ZSIsImdldFZhbHVlIiwiX19nZXROYXRpdmVUYWciLCJzdG9wQW5pbWF0aW9uIiwic3RvcCIsIl91cGRhdGVWYWx1ZSIsInRvU3RyaW5nIiwic2V0QW5pbWF0ZWROb2RlVmFsdWUiLCJvZmZzZXQiLCJzZXRBbmltYXRlZE5vZGVPZmZzZXQiLCJmbGF0dGVuQW5pbWF0ZWROb2RlT2Zmc2V0IiwiZXh0cmFjdEFuaW1hdGVkTm9kZU9mZnNldCIsImNhbGxiYWNrIiwic3RvcFRyYWNraW5nIiwiX19nZXRWYWx1ZSIsImFuaW1hdGlvbiIsImhhbmRsZSIsIl9faXNJbnRlcmFjdGlvbiIsImNyZWF0ZUludGVyYWN0aW9uSGFuZGxlIiwicHJldmlvdXNBbmltYXRpb24iLCJzdGFydCIsInJlc3VsdCIsImNsZWFySW50ZXJhY3Rpb25IYW5kbGUiLCJfX2RldGFjaCIsInRyYWNraW5nIiwiZmx1c2giLCJ1bmRlZmluZWQiLCJ0eXBlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIkFuaW1hdGVkVmFsdWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBmbG93XG4gKiBAZm9ybWF0XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBBbmltYXRlZEludGVycG9sYXRpb24gPSByZXF1aXJlKCcuL0FuaW1hdGVkSW50ZXJwb2xhdGlvbicpO1xuY29uc3QgQW5pbWF0ZWRXaXRoQ2hpbGRyZW4gPSByZXF1aXJlKCcuL0FuaW1hdGVkV2l0aENoaWxkcmVuJyk7XG5jb25zdCBJbnRlcmFjdGlvbk1hbmFnZXIgPSByZXF1aXJlKCcuLi8uLi9JbnRlcmFjdGlvbi9JbnRlcmFjdGlvbk1hbmFnZXInKTtcbmNvbnN0IE5hdGl2ZUFuaW1hdGVkSGVscGVyID0gcmVxdWlyZSgnLi4vTmF0aXZlQW5pbWF0ZWRIZWxwZXInKTtcblxuaW1wb3J0IHR5cGUgQW5pbWF0ZWROb2RlIGZyb20gJy4vQW5pbWF0ZWROb2RlJztcbmltcG9ydCB0eXBlIEFuaW1hdGlvbiwge0VuZENhbGxiYWNrfSBmcm9tICcuLi9hbmltYXRpb25zL0FuaW1hdGlvbic7XG5pbXBvcnQgdHlwZSB7SW50ZXJwb2xhdGlvbkNvbmZpZ1R5cGV9IGZyb20gJy4vQW5pbWF0ZWRJbnRlcnBvbGF0aW9uJztcbmltcG9ydCB0eXBlIEFuaW1hdGVkVHJhY2tpbmcgZnJvbSAnLi9BbmltYXRlZFRyYWNraW5nJztcblxuZXhwb3J0IHR5cGUgQW5pbWF0ZWRWYWx1ZUNvbmZpZyA9ICRSZWFkT25seTx7XG4gIHVzZU5hdGl2ZURyaXZlcjogYm9vbGVhbixcbn0+O1xuXG5jb25zdCBOYXRpdmVBbmltYXRlZEFQSSA9IE5hdGl2ZUFuaW1hdGVkSGVscGVyLkFQSTtcblxuLyoqXG4gKiBBbmltYXRlZCB3b3JrcyBieSBidWlsZGluZyBhIGRpcmVjdGVkIGFjeWNsaWMgZ3JhcGggb2YgZGVwZW5kZW5jaWVzXG4gKiB0cmFuc3BhcmVudGx5IHdoZW4geW91IHJlbmRlciB5b3VyIEFuaW1hdGVkIGNvbXBvbmVudHMuXG4gKlxuICogICAgICAgICAgICAgICBuZXcgQW5pbWF0ZWQuVmFsdWUoMClcbiAqICAgICAuaW50ZXJwb2xhdGUoKSAgICAgICAgLmludGVycG9sYXRlKCkgICAgbmV3IEFuaW1hdGVkLlZhbHVlKDEpXG4gKiAgICAgICAgIG9wYWNpdHkgICAgICAgICAgICAgICB0cmFuc2xhdGVZICAgICAgc2NhbGVcbiAqICAgICAgICAgIHN0eWxlICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybVxuICogICAgICAgICBWaWV3IzIzNCAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZpZXcjMTIzXG4gKlxuICogQSkgVG9wIERvd24gcGhhc2VcbiAqIFdoZW4gYW4gQW5pbWF0ZWQuVmFsdWUgaXMgdXBkYXRlZCwgd2UgcmVjdXJzaXZlbHkgZ28gZG93biB0aHJvdWdoIHRoaXNcbiAqIGdyYXBoIGluIG9yZGVyIHRvIGZpbmQgbGVhZiBub2RlczogdGhlIHZpZXdzIHRoYXQgd2UgZmxhZyBhcyBuZWVkaW5nXG4gKiBhbiB1cGRhdGUuXG4gKlxuICogQikgQm90dG9tIFVwIHBoYXNlXG4gKiBXaGVuIGEgdmlldyBpcyBmbGFnZ2VkIGFzIG5lZWRpbmcgYW4gdXBkYXRlLCB3ZSByZWN1cnNpdmVseSBnbyBiYWNrIHVwXG4gKiBpbiBvcmRlciB0byBidWlsZCB0aGUgbmV3IHZhbHVlIHRoYXQgaXQgbmVlZHMuIFRoZSByZWFzb24gd2h5IHdlIG5lZWRcbiAqIHRoaXMgdHdvLXBoYXNlcyBwcm9jZXNzIGlzIHRvIGRlYWwgd2l0aCBjb21wb3NpdGUgcHJvcHMgc3VjaCBhc1xuICogdHJhbnNmb3JtIHdoaWNoIGNhbiByZWNlaXZlIHZhbHVlcyBmcm9tIG11bHRpcGxlIHBhcmVudHMuXG4gKi9cbmZ1bmN0aW9uIF9mbHVzaChyb290Tm9kZTogQW5pbWF0ZWRWYWx1ZSk6IHZvaWQge1xuICBjb25zdCBhbmltYXRlZFN0eWxlcyA9IG5ldyBTZXQoKTtcbiAgZnVuY3Rpb24gZmluZEFuaW1hdGVkU3R5bGVzKG5vZGU6IEFuaW1hdGVkVmFsdWUgfCBBbmltYXRlZE5vZGUpIHtcbiAgICAvKiAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ10gKD49MC42OC4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiKSBUaGlzIGNvbW1lbnRcbiAgICAgKiBzdXBwcmVzc2VzIGFuIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC42OCB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3JcbiAgICAgKiBkZWxldGUgdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICBpZiAodHlwZW9mIG5vZGUudXBkYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBhbmltYXRlZFN0eWxlcy5hZGQobm9kZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vZGUuX19nZXRDaGlsZHJlbigpLmZvckVhY2goZmluZEFuaW1hdGVkU3R5bGVzKTtcbiAgICB9XG4gIH1cbiAgZmluZEFuaW1hdGVkU3R5bGVzKHJvb3ROb2RlKTtcbiAgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddXG4gIGFuaW1hdGVkU3R5bGVzLmZvckVhY2goYW5pbWF0ZWRTdHlsZSA9PiBhbmltYXRlZFN0eWxlLnVwZGF0ZSgpKTtcbn1cblxuLyoqXG4gKiBTb21lIG9wZXJhdGlvbnMgYXJlIGV4ZWN1dGVkIG9ubHkgb24gYmF0Y2ggZW5kLCB3aGljaCBpcyBfbW9zdGx5XyBzY2hlZHVsZWQgd2hlblxuICogQW5pbWF0ZWQgY29tcG9uZW50IHByb3BzIGNoYW5nZS4gRm9yIHNvbWUgb2YgdGhlIGNoYW5nZXMgd2hpY2ggcmVxdWlyZSBpbW1lZGlhdGUgZXhlY3V0aW9uXG4gKiAoZS5nLiBzZXRWYWx1ZSksIHdlIGNyZWF0ZSBhIHNlcGFyYXRlIGJhdGNoIGluIGNhc2Ugbm9uZSBpcyBzY2hlZHVsZWQuXG4gKi9cbmZ1bmN0aW9uIF9leGVjdXRlQXNBbmltYXRlZEJhdGNoKGlkOiBzdHJpbmcsIG9wZXJhdGlvbjogKCkgPT4gdm9pZCkge1xuICBOYXRpdmVBbmltYXRlZEFQSS5zZXRXYWl0aW5nRm9ySWRlbnRpZmllcihpZCk7XG4gIG9wZXJhdGlvbigpO1xuICBOYXRpdmVBbmltYXRlZEFQSS51bnNldFdhaXRpbmdGb3JJZGVudGlmaWVyKGlkKTtcbn1cblxuLyoqXG4gKiBTdGFuZGFyZCB2YWx1ZSBmb3IgZHJpdmluZyBhbmltYXRpb25zLiAgT25lIGBBbmltYXRlZC5WYWx1ZWAgY2FuIGRyaXZlXG4gKiBtdWx0aXBsZSBwcm9wZXJ0aWVzIGluIGEgc3luY2hyb25pemVkIGZhc2hpb24sIGJ1dCBjYW4gb25seSBiZSBkcml2ZW4gYnkgb25lXG4gKiBtZWNoYW5pc20gYXQgYSB0aW1lLiAgVXNpbmcgYSBuZXcgbWVjaGFuaXNtIChlLmcuIHN0YXJ0aW5nIGEgbmV3IGFuaW1hdGlvbixcbiAqIG9yIGNhbGxpbmcgYHNldFZhbHVlYCkgd2lsbCBzdG9wIGFueSBwcmV2aW91cyBvbmVzLlxuICpcbiAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2FuaW1hdGVkdmFsdWVcbiAqL1xuY2xhc3MgQW5pbWF0ZWRWYWx1ZSBleHRlbmRzIEFuaW1hdGVkV2l0aENoaWxkcmVuIHtcbiAgX3ZhbHVlOiBudW1iZXI7XG4gIF9zdGFydGluZ1ZhbHVlOiBudW1iZXI7XG4gIF9vZmZzZXQ6IG51bWJlcjtcbiAgX2FuaW1hdGlvbjogP0FuaW1hdGlvbjtcbiAgX3RyYWNraW5nOiA/QW5pbWF0ZWRUcmFja2luZztcblxuICBjb25zdHJ1Y3Rvcih2YWx1ZTogbnVtYmVyLCBjb25maWc/OiA/QW5pbWF0ZWRWYWx1ZUNvbmZpZykge1xuICAgIHN1cGVyKCk7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ251bWJlcicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQW5pbWF0ZWRWYWx1ZTogQXR0ZW1wdGluZyB0byBzZXQgdmFsdWUgdG8gdW5kZWZpbmVkJyk7XG4gICAgfVxuICAgIHRoaXMuX3N0YXJ0aW5nVmFsdWUgPSB0aGlzLl92YWx1ZSA9IHZhbHVlO1xuICAgIHRoaXMuX29mZnNldCA9IDA7XG4gICAgdGhpcy5fYW5pbWF0aW9uID0gbnVsbDtcbiAgICBpZiAoY29uZmlnICYmIGNvbmZpZy51c2VOYXRpdmVEcml2ZXIpIHtcbiAgICAgIHRoaXMuX19tYWtlTmF0aXZlKCk7XG4gICAgfVxuICB9XG5cbiAgX19kZXRhY2goKSB7XG4gICAgaWYgKHRoaXMuX19pc05hdGl2ZSkge1xuICAgICAgTmF0aXZlQW5pbWF0ZWRBUEkuZ2V0VmFsdWUodGhpcy5fX2dldE5hdGl2ZVRhZygpLCB2YWx1ZSA9PiB7XG4gICAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWUgLSB0aGlzLl9vZmZzZXQ7XG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5zdG9wQW5pbWF0aW9uKCk7XG4gICAgc3VwZXIuX19kZXRhY2goKTtcbiAgfVxuXG4gIF9fZ2V0VmFsdWUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWUgKyB0aGlzLl9vZmZzZXQ7XG4gIH1cblxuICAvKipcbiAgICogRGlyZWN0bHkgc2V0IHRoZSB2YWx1ZS4gIFRoaXMgd2lsbCBzdG9wIGFueSBhbmltYXRpb25zIHJ1bm5pbmcgb24gdGhlIHZhbHVlXG4gICAqIGFuZCB1cGRhdGUgYWxsIHRoZSBib3VuZCBwcm9wZXJ0aWVzLlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9hbmltYXRlZHZhbHVlI3NldHZhbHVlXG4gICAqL1xuICBzZXRWYWx1ZSh2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX2FuaW1hdGlvbikge1xuICAgICAgdGhpcy5fYW5pbWF0aW9uLnN0b3AoKTtcbiAgICAgIHRoaXMuX2FuaW1hdGlvbiA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMuX3VwZGF0ZVZhbHVlKFxuICAgICAgdmFsdWUsXG4gICAgICAhdGhpcy5fX2lzTmF0aXZlIC8qIGRvbid0IHBlcmZvcm0gYSBmbHVzaCBmb3IgbmF0aXZlbHkgZHJpdmVuIHZhbHVlcyAqLyxcbiAgICApO1xuICAgIGlmICh0aGlzLl9faXNOYXRpdmUpIHtcbiAgICAgIF9leGVjdXRlQXNBbmltYXRlZEJhdGNoKHRoaXMuX19nZXROYXRpdmVUYWcoKS50b1N0cmluZygpLCAoKSA9PlxuICAgICAgICBOYXRpdmVBbmltYXRlZEFQSS5zZXRBbmltYXRlZE5vZGVWYWx1ZSh0aGlzLl9fZ2V0TmF0aXZlVGFnKCksIHZhbHVlKSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgYW4gb2Zmc2V0IHRoYXQgaXMgYXBwbGllZCBvbiB0b3Agb2Ygd2hhdGV2ZXIgdmFsdWUgaXMgc2V0LCB3aGV0aGVyIHZpYVxuICAgKiBgc2V0VmFsdWVgLCBhbiBhbmltYXRpb24sIG9yIGBBbmltYXRlZC5ldmVudGAuICBVc2VmdWwgZm9yIGNvbXBlbnNhdGluZ1xuICAgKiB0aGluZ3MgbGlrZSB0aGUgc3RhcnQgb2YgYSBwYW4gZ2VzdHVyZS5cbiAgICpcbiAgICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvYW5pbWF0ZWR2YWx1ZSNzZXRvZmZzZXRcbiAgICovXG4gIHNldE9mZnNldChvZmZzZXQ6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuX29mZnNldCA9IG9mZnNldDtcbiAgICBpZiAodGhpcy5fX2lzTmF0aXZlKSB7XG4gICAgICBOYXRpdmVBbmltYXRlZEFQSS5zZXRBbmltYXRlZE5vZGVPZmZzZXQodGhpcy5fX2dldE5hdGl2ZVRhZygpLCBvZmZzZXQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBNZXJnZXMgdGhlIG9mZnNldCB2YWx1ZSBpbnRvIHRoZSBiYXNlIHZhbHVlIGFuZCByZXNldHMgdGhlIG9mZnNldCB0byB6ZXJvLlxuICAgKiBUaGUgZmluYWwgb3V0cHV0IG9mIHRoZSB2YWx1ZSBpcyB1bmNoYW5nZWQuXG4gICAqXG4gICAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2FuaW1hdGVkdmFsdWUjZmxhdHRlbm9mZnNldFxuICAgKi9cbiAgZmxhdHRlbk9mZnNldCgpOiB2b2lkIHtcbiAgICB0aGlzLl92YWx1ZSArPSB0aGlzLl9vZmZzZXQ7XG4gICAgdGhpcy5fb2Zmc2V0ID0gMDtcbiAgICBpZiAodGhpcy5fX2lzTmF0aXZlKSB7XG4gICAgICBOYXRpdmVBbmltYXRlZEFQSS5mbGF0dGVuQW5pbWF0ZWROb2RlT2Zmc2V0KHRoaXMuX19nZXROYXRpdmVUYWcoKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIG9mZnNldCB2YWx1ZSB0byB0aGUgYmFzZSB2YWx1ZSwgYW5kIHJlc2V0cyB0aGUgYmFzZSB2YWx1ZSB0byB6ZXJvLlxuICAgKiBUaGUgZmluYWwgb3V0cHV0IG9mIHRoZSB2YWx1ZSBpcyB1bmNoYW5nZWQuXG4gICAqXG4gICAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2FuaW1hdGVkdmFsdWUjZXh0cmFjdG9mZnNldFxuICAgKi9cbiAgZXh0cmFjdE9mZnNldCgpOiB2b2lkIHtcbiAgICB0aGlzLl9vZmZzZXQgKz0gdGhpcy5fdmFsdWU7XG4gICAgdGhpcy5fdmFsdWUgPSAwO1xuICAgIGlmICh0aGlzLl9faXNOYXRpdmUpIHtcbiAgICAgIE5hdGl2ZUFuaW1hdGVkQVBJLmV4dHJhY3RBbmltYXRlZE5vZGVPZmZzZXQodGhpcy5fX2dldE5hdGl2ZVRhZygpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU3RvcHMgYW55IHJ1bm5pbmcgYW5pbWF0aW9uIG9yIHRyYWNraW5nLiBgY2FsbGJhY2tgIGlzIGludm9rZWQgd2l0aCB0aGVcbiAgICogZmluYWwgdmFsdWUgYWZ0ZXIgc3RvcHBpbmcgdGhlIGFuaW1hdGlvbiwgd2hpY2ggaXMgdXNlZnVsIGZvciB1cGRhdGluZ1xuICAgKiBzdGF0ZSB0byBtYXRjaCB0aGUgYW5pbWF0aW9uIHBvc2l0aW9uIHdpdGggbGF5b3V0LlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9hbmltYXRlZHZhbHVlI3N0b3BhbmltYXRpb25cbiAgICovXG4gIHN0b3BBbmltYXRpb24oY2FsbGJhY2s/OiA/KHZhbHVlOiBudW1iZXIpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLnN0b3BUcmFja2luZygpO1xuICAgIHRoaXMuX2FuaW1hdGlvbiAmJiB0aGlzLl9hbmltYXRpb24uc3RvcCgpO1xuICAgIHRoaXMuX2FuaW1hdGlvbiA9IG51bGw7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICBpZiAodGhpcy5fX2lzTmF0aXZlKSB7XG4gICAgICAgIE5hdGl2ZUFuaW1hdGVkQVBJLmdldFZhbHVlKHRoaXMuX19nZXROYXRpdmVUYWcoKSwgY2FsbGJhY2spO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2sodGhpcy5fX2dldFZhbHVlKCkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wcyBhbnkgYW5pbWF0aW9uIGFuZCByZXNldHMgdGhlIHZhbHVlIHRvIGl0cyBvcmlnaW5hbC5cbiAgICpcbiAgICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvYW5pbWF0ZWR2YWx1ZSNyZXNldGFuaW1hdGlvblxuICAgKi9cbiAgcmVzZXRBbmltYXRpb24oY2FsbGJhY2s/OiA/KHZhbHVlOiBudW1iZXIpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLnN0b3BBbmltYXRpb24oY2FsbGJhY2spO1xuICAgIHRoaXMuX3ZhbHVlID0gdGhpcy5fc3RhcnRpbmdWYWx1ZTtcbiAgICBpZiAodGhpcy5fX2lzTmF0aXZlKSB7XG4gICAgICBOYXRpdmVBbmltYXRlZEFQSS5zZXRBbmltYXRlZE5vZGVWYWx1ZShcbiAgICAgICAgdGhpcy5fX2dldE5hdGl2ZVRhZygpLFxuICAgICAgICB0aGlzLl9zdGFydGluZ1ZhbHVlLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBfX29uQW5pbWF0ZWRWYWx1ZVVwZGF0ZVJlY2VpdmVkKHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLl91cGRhdGVWYWx1ZSh2YWx1ZSwgZmFsc2UgLypmbHVzaCovKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnRlcnBvbGF0ZXMgdGhlIHZhbHVlIGJlZm9yZSB1cGRhdGluZyB0aGUgcHJvcGVydHksIGUuZy4gbWFwcGluZyAwLTEgdG9cbiAgICogMC0xMC5cbiAgICovXG4gIGludGVycG9sYXRlPE91dHB1dFQ6IG51bWJlciB8IHN0cmluZz4oXG4gICAgY29uZmlnOiBJbnRlcnBvbGF0aW9uQ29uZmlnVHlwZTxPdXRwdXRUPixcbiAgKTogQW5pbWF0ZWRJbnRlcnBvbGF0aW9uPE91dHB1dFQ+IHtcbiAgICByZXR1cm4gbmV3IEFuaW1hdGVkSW50ZXJwb2xhdGlvbih0aGlzLCBjb25maWcpO1xuICB9XG5cbiAgLyoqXG4gICAqIFR5cGljYWxseSBvbmx5IHVzZWQgaW50ZXJuYWxseSwgYnV0IGNvdWxkIGJlIHVzZWQgYnkgYSBjdXN0b20gQW5pbWF0aW9uXG4gICAqIGNsYXNzLlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9hbmltYXRlZHZhbHVlI2FuaW1hdGVcbiAgICovXG4gIGFuaW1hdGUoYW5pbWF0aW9uOiBBbmltYXRpb24sIGNhbGxiYWNrOiA/RW5kQ2FsbGJhY2spOiB2b2lkIHtcbiAgICBsZXQgaGFuZGxlID0gbnVsbDtcbiAgICBpZiAoYW5pbWF0aW9uLl9faXNJbnRlcmFjdGlvbikge1xuICAgICAgaGFuZGxlID0gSW50ZXJhY3Rpb25NYW5hZ2VyLmNyZWF0ZUludGVyYWN0aW9uSGFuZGxlKCk7XG4gICAgfVxuICAgIGNvbnN0IHByZXZpb3VzQW5pbWF0aW9uID0gdGhpcy5fYW5pbWF0aW9uO1xuICAgIHRoaXMuX2FuaW1hdGlvbiAmJiB0aGlzLl9hbmltYXRpb24uc3RvcCgpO1xuICAgIHRoaXMuX2FuaW1hdGlvbiA9IGFuaW1hdGlvbjtcbiAgICBhbmltYXRpb24uc3RhcnQoXG4gICAgICB0aGlzLl92YWx1ZSxcbiAgICAgIHZhbHVlID0+IHtcbiAgICAgICAgLy8gTmF0aXZlbHkgZHJpdmVuIGFuaW1hdGlvbnMgd2lsbCBuZXZlciBjYWxsIGludG8gdGhhdCBjYWxsYmFjaywgdGhlcmVmb3JlIHdlIGNhbiBhbHdheXNcbiAgICAgICAgLy8gcGFzcyBmbHVzaCA9IHRydWUgdG8gYWxsb3cgdGhlIHVwZGF0ZWQgdmFsdWUgdG8gcHJvcGFnYXRlIHRvIG5hdGl2ZSB3aXRoIHNldE5hdGl2ZVByb3BzXG4gICAgICAgIHRoaXMuX3VwZGF0ZVZhbHVlKHZhbHVlLCB0cnVlIC8qIGZsdXNoICovKTtcbiAgICAgIH0sXG4gICAgICByZXN1bHQgPT4ge1xuICAgICAgICB0aGlzLl9hbmltYXRpb24gPSBudWxsO1xuICAgICAgICBpZiAoaGFuZGxlICE9PSBudWxsKSB7XG4gICAgICAgICAgSW50ZXJhY3Rpb25NYW5hZ2VyLmNsZWFySW50ZXJhY3Rpb25IYW5kbGUoaGFuZGxlKTtcbiAgICAgICAgfVxuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhyZXN1bHQpO1xuICAgICAgfSxcbiAgICAgIHByZXZpb3VzQW5pbWF0aW9uLFxuICAgICAgdGhpcyxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFR5cGljYWxseSBvbmx5IHVzZWQgaW50ZXJuYWxseS5cbiAgICovXG4gIHN0b3BUcmFja2luZygpOiB2b2lkIHtcbiAgICB0aGlzLl90cmFja2luZyAmJiB0aGlzLl90cmFja2luZy5fX2RldGFjaCgpO1xuICAgIHRoaXMuX3RyYWNraW5nID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUeXBpY2FsbHkgb25seSB1c2VkIGludGVybmFsbHkuXG4gICAqL1xuICB0cmFjayh0cmFja2luZzogQW5pbWF0ZWRUcmFja2luZyk6IHZvaWQge1xuICAgIHRoaXMuc3RvcFRyYWNraW5nKCk7XG4gICAgdGhpcy5fdHJhY2tpbmcgPSB0cmFja2luZztcbiAgICAvLyBNYWtlIHN1cmUgdGhhdCB0aGUgdHJhY2tpbmcgYW5pbWF0aW9uIHN0YXJ0cyBleGVjdXRpbmdcbiAgICB0aGlzLl90cmFja2luZyAmJiB0aGlzLl90cmFja2luZy51cGRhdGUoKTtcbiAgfVxuXG4gIF91cGRhdGVWYWx1ZSh2YWx1ZTogbnVtYmVyLCBmbHVzaDogYm9vbGVhbik6IHZvaWQge1xuICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FuaW1hdGVkVmFsdWU6IEF0dGVtcHRpbmcgdG8gc2V0IHZhbHVlIHRvIHVuZGVmaW5lZCcpO1xuICAgIH1cblxuICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XG4gICAgaWYgKGZsdXNoKSB7XG4gICAgICBfZmx1c2godGhpcyk7XG4gICAgfVxuICAgIHN1cGVyLl9fY2FsbExpc3RlbmVycyh0aGlzLl9fZ2V0VmFsdWUoKSk7XG4gIH1cblxuICBfX2dldE5hdGl2ZUNvbmZpZygpOiBPYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAndmFsdWUnLFxuICAgICAgdmFsdWU6IHRoaXMuX3ZhbHVlLFxuICAgICAgb2Zmc2V0OiB0aGlzLl9vZmZzZXQsXG4gICAgfTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEFuaW1hdGVkVmFsdWU7XG4iXSwibWFwcGluZ3MiOiJBQVVBLFlBQVk7O0FBQUM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRWIsSUFBTUEscUJBQXFCLEdBQUdD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